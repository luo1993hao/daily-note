### 童子军军规
**让营地比你来时干净**
### 函数
- 短小
  - if,else,while，里面的代码块应该只有一行，并且应该是一个函数调用语句
- 每个函数里面的语句为一个抽象级
- switch
  - 多态
  - 埋藏在较低的抽象级里面
- 使用描述性的名称
  - 别害怕长名称
- 方法入参尽量少
- 无副作用
  - 不要有时序性耦合
- 分别指令与询问（eg:set与boolean）
- 使用异常替代返回错误码（减去调用者代码量）
  - 抽取try/catch
  - 错误处理就是一件事情
### 注释
 - 好注释
   - 法律信息
   - 提供信息的注释
   - 对意图的注释
   - 阐述，如果参数，或者返回值是某   个标准库的一部分
   - 警示
   - todo注释
   - 放大，放大某种看来不合理的地方的重要性，例如xxString.trim()这类代码
- 坏注释
  - 日志注释
  - 循规式注释（每个方法，每个类都去写冗余注释）
  - 废话注释
  - 能用函数，变量就别用注释
  - 非本地信息（描述离它最近的代码）
### 异常
- 使用不可控异常
  - 可控异常的代价就是违反开闭原则。因为对软件中较低层级的修改，都将波及较高层的签名
  - 讲第三方api打包，自定义类来补货第三方抛出的各种异常
  - 将异常行为封装到特例对象中
  - 别返回null以及传递null
### 测试
- 整洁的测试
   -可读性
      -构造->操作->校验
- 双重标准
  - 有些事大概永远不会在生产环境中做，通过关乎内存或者cpu，不过却永远不会与整洁有关
- 每个测试一个概念
- 5大准则
  - Fast
  - Independent
  - Repeatable
  - Self-Validating
  - Timely
### 类
- 自顶而下
- 短小
   - 不用if,and,or,but，能25个单词描述一个类
   - 只有一个修改的理由
   - 单一职责
   - 内聚
   - 依赖倒置原则
     - 类应该依赖于抽象，而不是依赖于细节
### 迭进（按照重要性排序）
- 运行所有测试
- 重构（基于所有测试）
  - 不可重复
  - 表达意图（命名，良好的测试）
  - 尽可能 减少类和方法的数量
### 并发
- 并发防御原则
  - 单一职责
  - 限制作用域
  - 使用数据副本
  - 线程尽可能独立
- 执行模型
 - 生产者，消费者
 - 读者-作者模型
 - 宴席哲学家
 

## todo
- 仔细阅读14章
![](https://i.loli.net/2019/04/22/5cbdb51511037.png)
![](https://i.loli.net/2019/04/22/5cbdb5408949f.png)
![](https://i.loli.net/2019/04/22/5cbdb55e5f1e9.png)
![](https://i.loli.net/2019/04/22/5cbdb56b5eb08.png)